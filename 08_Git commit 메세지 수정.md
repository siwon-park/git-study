# 08_Git commit 메세지 수정

※ 커밋 메세지를 수정하고자 할 때는 IDE 상의 터미널보다 bash나 cmd창을 열고 하는 것이 더 좋다.

간혹 IDE 상의 터미널에서 커밋 메세지 수정 명령어를 입력했을 때, 위 아래 이동이 자유롭지 못하거나 인풋이 안 먹혀서 저장을 할 수 없는 경우도 발생한다.

## 1. 마지막 커밋 메세지 수정 (amend)

```bash
git commit --amend
```

vim 편집기가 열리면서 최상단에 자신이 마지막에 쓴 커밋 메세지가 보인다.

이를 수정한 다음에 :wq를 눌러서 저장하고 푸시하면 끝이다.

### 1) 주의 사항

마지막 커밋 메세지를 수정하는 것은 아직 푸시하지 않은 커밋에 대해서만 사용하는 것이 좋다.

원격 저장소에 이미 푸시된 커밋을 수정하면 해당 저장소를 풀 받아서 협업하고 있는 다른 사용자들에게도 영향을 미칠 수 있다.

<br>

## 2. 여러 커밋의 메세지 수정 (rebase)

수정하고자 하는 커밋들의 범위를 지정하여 rebase(리베이스)한다.

### 1) 과정

#### (1) rebase

```bash
git rebase -i [커밋 범위]

# 예시 (마지막 3개의 커밋 수정)
git rebase -i HEAD~3
```

커밋 범위를 설정하고 해당 명령어를 입력하면 vim 편집기가 나온다.

그러면 커밋 범위 수만큼 커밋 메세지가 나오는데,

```bash
pick 1a2b3c4 첫 번째 커밋 메시지
reword 2b3c4d5 두 번째 커밋 메시지
pick 3c4d5e6 세 번째 커밋 메시지
```

이때 수정하고 싶은 커밋 메세지를 선택해서 `pick`이라고 되어있는 단어를 `reword`로 수정한다.

저장 후 종료하면 새로운 편집기 창이 열리고 여기서 커밋 메세지를 수정하고 다시 저장하여 종료한다.

<br>

## 3. 강제 푸시

```bash
git push origin [브랜치명] --force

# 만약 원격 저장소와 연결이 안 되어 있을 경우
git push --set-upstream origin [브랜치] --force
```